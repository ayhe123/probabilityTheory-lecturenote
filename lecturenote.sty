\ProvidesPackage{lecturenote}
\RequirePackage{amsmath,amsthm,amssymb,amscd,mathrsfs}
\RequirePackage[hmargin=1in,vmargin=1in]{geometry}
\RequirePackage{xcolor,graphics}
\RequirePackage{tikz,tikz-cd,tikz-3dplot}
\RequirePackage[colorlinks=true,linkcolor=black]{hyperref}
\RequirePackage[framemethod=TikZ]{mdframed}
\RequirePackage{url}

% 护眼背景
\newif\if@backgroundcolor
\@backgroundcolorfalse
\DeclareOption{bgcolor}{\@backgroundcolortrue}
\ProcessOptions
\if@backgroundcolor
\definecolor{geyecolor}{RGB}{199,237,204}
\pagecolor{geyecolor}
\fi

\numberwithin{equation}{section}

% 定理环境
\theoremstyle{definition}
\newtheorem{definition}{定义}[section]
\newtheorem{theorem}{定理}[section]
\newtheorem{lemma}{引理}[section]
\newtheorem{corollary}{推论}[section]
\newtheorem{proposition}{命题}[section]
\newtheorem{example}{例}[section]
\newtheorem{property}{性质}[section]
\newtheorem{exercise}{}
\newtheorem{exercisec}{补充题}
\newtheorem*{solution}{解}
\newtheorem*{thought}{思路}
\newtheorem*{note}{注}
\newtheorem*{remark}{注意}

% 习题计数器
\newcounter{exsection}[section]
\numberwithin{exercise}{exsection}
\renewcommand\theexercise{\theexsection.\arabic{exercise}}

% mdframed 包裹定理环境
\mdfsetup{%
middlelinecolor=black,
middlelinewidth=.5pt,
backgroundcolor=black!15}
\surroundwithmdframed{definition}
\surroundwithmdframed{theorem}
\surroundwithmdframed{lemma}
\surroundwithmdframed{corollary}
\surroundwithmdframed{proposition}
\surroundwithmdframed{property}
\surroundwithmdframed{exercise}
\surroundwithmdframed{exercisec}
\surroundwithmdframed{verbatim}